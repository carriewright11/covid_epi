---
title: "**COVIDScenarioPipeline**"
subtitle: "**Infectious Disease Dynamics Group (IDD) at Johns Hopkins University**"
css: style.css
output:
  html_document:
    self_contained: yes
    code_download: no
    highlight: tango
    number_sections: no
    theme: cosmo
    toc: yes
    toc_float: yes
  pdf_document:
    toc: yes
  word_document:
    toc: yes

---
<style>
#TOC {
  background: url("https://avatars1.githubusercontent.com/u/5339898?s=200&v=4");
  background-size: contain;
  padding-top: 240px !important;
  background-repeat: no-repeat;
}
</style>




```{r setup, include=FALSE}
knitr::opts_chunk$set(include = TRUE, comment = NA, echo = TRUE,
                      message = FALSE, warning = FALSE, cache = FALSE,
                      fig.align = "center", out.width = '90%')
library(here)
library(knitr)
```


#### {.outline }
```{r, echo = FALSE, out.width = "800 px"}
knitr::include_graphics(here::here("img", "cdc-k0KRNtqcjfw-unsplash.jpg"))
```

Photo by CDC on Unsplash
<a style="background-color:black;color:white;text-decoration:none;padding:4px 6px;font-family:-apple-system, BlinkMacSystemFont, &quot;San Francisco&quot;, &quot;Helvetica Neue&quot;, Helvetica, Ubuntu, Roboto, Noto, &quot;Segoe UI&quot;, Arial, sans-serif;font-size:12px;font-weight:bold;line-height:1.2;display:inline-block;border-radius:3px" href="https://unsplash.com/@cdc?utm_medium=referral&amp;utm_campaign=photographer-credit&amp;utm_content=creditBadge" target="_blank" rel="noopener noreferrer" title="Download free do whatever you want high-resolution photos from CDC"><span style="display:inline-block;padding:2px 3px"><svg xmlns="http://www.w3.org/2000/svg" style="height:12px;width:auto;position:relative;vertical-align:middle;top:-2px;fill:white" viewBox="0 0 32 32"><title>unsplash-logo</title><path d="M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"></path></svg></span><span style="display:inline-block;padding:2px 3px">CDC</span></a>

####

## {.disclaimer_block}

**Disclaimer**: The purpose of the [Johns Hopkins IDD COVIDScenarioPipeline](https://github.com/HopkinsIDD/COVID19_Minimal){target="_blank"} project is **to provide tools for analysis of COVID-19 related data**. These materials do not cover all aspects of the research process. We highly suggest that you seek external consultation from scientific experts regarding your data and the interpreation of your data. 


This tutorial assumes that users have knowlege of R programming and limited command line experience. It does not require previous knowlege of GitHub. The tutorial however should be doable by someone without R programming or command line experience.

## **GitHub**

If you already have a GitHub account, you can skip this step and move onto the [**Getting Started with the Pipeline**] section.

### What is GitHub?

GitHub is a site that allows users to **host** and **manage** code and data files. Thus, you can **store** your code on the web so that you and others can easily access it (and so that is safe if something happens to your computer!).

It is especailly useful for what is called [version control](https://en.wikipedia.org/wiki/Version_control){target="_blank"} which allows you to **track changes** to documents overtime. 

So although it is intended for version control of code, you can actually use GitHub for version control of many types of documents.

### Why do I need an account?

By signing up for an account you can easily access up-to-date files and code for the **COVIDScenarioPipeline** to allow you to easily run the pipeline on your data.

Better yet, if you learn more about GitHub, you can also use your account to save the files and code for your analysis and track changes over time. You can share your analysis privately with just your team or you can even make it public for others to use.

To learn more about GitHub see [here](https://guides.github.com/activities/hello-world/){target="_blank"}.


### Create a GitHub Account: 

1) Click this [link](https://github.com/)  

You will see a page that looks something like this:  
```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","GitHub.png"))
```

2) Fill out a username (any name that works for you), email, and password  
3) Click the green "sign up for GitHub" button  


***


## **Getting Started with the Pipeline**

### Making a pipeline repository

First navigate to the Johns Hopkins IDD **COVIDScenarioPipeline** github repository: by clicking [here. ](https://github.com/HopkinsIDD/COVID19_Minimal){target="_blank"}

You will see a page that looks like this:
```{r, echo = FALSE, out.width="800px"}
knitr::include_graphics(here::here("img","UseThisTemplate.png"))
```


Click on the green button that says "Use this template" as shown in the above image.

  
***   

This will take you to a new page that looks like this:
```{r, echo = FALSE, out.width="800px"}
knitr::include_graphics(here::here("img","GenerateRepo.png"))
```



Here you will:  

1) Provide the name for your repository that you are about to create - "COVID_Pipeline" would work 
2) Decide if you want your repository to be Public or Private   
3) Press the green "Create repository from template" button  

Great! Now you have a repository on GitHub which contains all the current [**COVIDScenarioPipeline**](https://github.com/HopkinsIDD/COVID19_Minimal){target="_blank"} files and code.

It should look something like this:

```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","YourRepo.png"))
```

Leave this open! You will want this for the next step!  

***

### Get the pipeline files onto your computer  

1) Press the green "Clone or download" button in your github repository that you just created

```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","YourRepoClone.png"))
```

2) This will bring up a small window. Press the small botton with an icon that looks like a clipboard. This will copy the location of your repository on GitHub.

```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","clone.png"))
```

1) Open a new project in RStudio  (if this is new for you see [**New to R or RStudio**])  

2) Select the Terminal tab in Rstudio  

```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","Terminal.png"))
```


3) Go to your type the following words (but do not press enter yet):

git clone

4) Paste what is on your clipboard by either using keyboard shortcuts or edit --> paste in RStudio

Should look something like this after the dollar sign `$`:

`git clone https://github.com/yourgithubusername/COVID_Pipeline.git`

Where your github username is shown inbetween "github.com" and the name of the repository you created.


5) Press enter

you should see some messages like:

`Cloning into 'COVID_Pipeline'...`


Once it is complete you will see that you now have a directory named the same as your GitHub repository that contains all the files in the repository.

Great now we have the files we need on our local computer!

*** 

### Get the required R and Python tools onto your computer  

To get the exact versions of the required [R packages](http://r-pkgs.had.co.nz/) and Python [packages](https://docs.python.org/3/tutorial/modules.html#packages), [modules](https://docs.python.org/3/tutorial/modules.html), and scripts, we can simply use something called [Docker](https://docker-curriculum.com/).

If you are new to Docker and need to set up an account go to the [**New to Docker**] section of the tutorial.





<!-- We will begin by loading the packages that we will need: -->

<!-- ```{r} -->
<!-- library(here) -->
<!-- library(readr) -->
<!-- library(dplyr) -->
<!-- ``` -->


<!--  Package   | Use                                                                          -->
<!-- ---------- |------------- -->
<!-- [here](https://github.com/jennybc/here_here){target="_blank"}       | to easily load and save data -->
<!-- [readr](https://readr.tidyverse.org/){target="_blank"}      | to import the CSV file data -->




<!-- ## **What are the data?** -->
<!-- ***  -->

<!-- If you want to make a table about variable info: -->

<!-- Variable   | Details                                                                         -->
<!-- ---------- |------------- -->
<!-- **variable1**  | Variable info  <br> -- more details <br> -- more detials <br>  **Example**: Content content   -->
<!-- **variable2**  | Variable info  <br> -- more details <br> -- more detials <br>  **Example**: Content content -->

<!-- ## **Data Import** -->
<!-- ***  -->

<!-- Put files in docs directory and use `here` package. -->

<!-- ```{r} -->
<!-- pm <-readr::read_csv(here("docs", "pm25_data.csv")) -->
<!-- ``` -->

<!-- ## **Data Exploration and Wrangling** -->
<!-- ***  -->

<!-- We will also use the `%>%` pipe which can be used to define the input for later sequential steps. This will make more sense when we have multiple sequential steps using the same data object. To use the pipe notation we need to install and load dplyr as well. -->

<!-- Scrollable content: -->

<!-- #### {.scrollable } -->
<!-- ```{r} -->
<!-- # Scroll through the output! -->
<!-- pm %>%  -->
<!--   distinct(state) %>% -->
<!--   print(n = 1e3) -->
<!-- ``` -->
<!-- #### -->


## **New to R or RStudio**
*** 

### Dowload and install R and RStudio

If you are new to R or RStudio, dont worry! You can follow these simple steps to get started.

You will need to download install [RStudio](https://rstudio.com/products/rstudio/download/#download) (and possibly [R](https://www.r-project.org/) if you do not already have it installed).

To do so follow this [tutorial](https://www.datacamp.com/community/tutorials/installing-R-windows-mac-ubuntu).


### Create an RStudio project

1) Go to File --> New Project  

```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","NewProject1.png"))
```


2) Choose the directory for your covid project - likely you would want "New Directory" 

```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","NewProject2.png"))
```

3) Select "New Project" as the Project Type 
**Note**: you may not see all of the same options as shown here  

```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","NewProject3.png"))
```
4) If you selected a new directory, than designate the name of that new directory and double check that it's location is somewhere on your computer that you would want. Perhaps COVID_Pipeline would be a good name. We will use this in our examples.

```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","NewProject4.png"))
```

Great! Now you are ready to start using RStudio for the **COVIDScenarioPipeline**. Return to the [**Getting Started with the Pipeline**] section of the tutorial.

## **New to Docker**
*** 

### What is Docker?
### Why do I need an account?

### Create a Docker Account: 

1) Click this [link](https://hub.docker.com/)  

You will see a page that looks something like this:  
```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","Docker.png"))
```
2) Fill out a Docker ID (any name that works for you), email, and password  - click that you are not a robot   
3) Click the blue "Sign Up" button  
4) You will be taken to a new window - Select the free Community Docker Plan 
```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","FreeDocker.png"))
```
5) Verify your account through your email  
6) This will take you to a new window that looks like this:

```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","DockerDesktop.png"))
```

Click on "Get started with Docker Desktop"

7) This will take you to a window with an image like this which should have a button below for downloading Docker Desktop on your computer:  
```{r, echo = FALSE, out.width="400px", fig.align='center'}
knitr::include_graphics(here::here("img","DockerDesktopDownload.png"))
```

**Note**: This may take some time!

***



## **Summary**
*** 


## **Helpful Links**
*** 

<u>Packages used in this tutorial: </u>

 Package   | Use                                                                         
---------- |-------------
[here](https://github.com/jennybc/here_here){target="_blank"}       | to easily load and save data  
[readr](https://readr.tidyverse.org/){target="_blank"}      | to import the CSV file data  
